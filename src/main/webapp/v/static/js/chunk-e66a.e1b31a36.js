(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e66a"],{Gi5B:function(e,t,r){},J66h:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=(global=global||{}).Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,o=e.length;r<o;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return fromCharCode(55296+(r>>>10))+fromCharCode(56320+(1023&r));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),n=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return n.length-=[0,0,2,1][r],n.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}global.Meteor&&(Base64=global.Base64);void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));return{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__("yLpj"))},KHPG:function(e,t,r){},T3K3:function(e,t,r){"use strict";var o=r("KHPG");r.n(o).a},c11S:function(e,t,r){"use strict";var o=r("gTgX");r.n(o).a},g06K:function(e,t,r){"use strict";r.d(t,"g",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"e",function(){return c}),r.d(t,"k",function(){return l}),r.d(t,"d",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"h",function(){return f}),r.d(t,"f",function(){return m}),r.d(t,"b",function(){return g}),r.d(t,"m",function(){return p}),r.d(t,"n",function(){return b}),r.d(t,"j",function(){return h}),r.d(t,"i",function(){return _}),r.d(t,"l",function(){return v});var o=r("t3Un"),n=r("gjeX"),i=r.n(n);function a(){return Object(o.a)({url:"/comm/allpositon",method:"post"})}function s(){return Object(o.a)({url:"/comm/allduty",method:"post"})}function c(){return Object(o.a)({url:"/comm/alldepartment",method:"post"})}function l(e){return e.password=i()(e.password),e.confirmpass=i()(e.confirmpass),Object(o.a)({url:"/comm/registuser",method:"post",data:e})}function u(){return Object(o.a)({url:"/comm/allconflevel",method:"post"})}function d(){return Object(o.a)({url:"/comm/allconfattr",method:"post"})}function f(){return Object(o.a)({url:"/comm/allsemesters",method:"post"})}function m(){return Object(o.a)({url:"/comm/allduty",method:"post"})}function g(){return Object(o.a)({url:"/comm/allRoles",method:"post"})}function p(e){return Object(o.a)({url:"/comm/attendtag",method:"post",data:e})}function b(e){return Object(o.a)({url:"/comm/cancelattendtag",method:"post",data:e})}function h(e){return Object(o.a)({url:"/comm/getusrinfoview",method:"post",data:e})}function _(e){return Object(o.a)({url:"/comm/modifyUsrInfoView",method:"post",data:e})}function v(e){return Object(o.a)({url:"/comm/"+e+"/adapterHasRegisted",method:"post"})}},gTgX:function(e,t,r){},ntYl:function(e,t,r){"use strict";r.r(t);var o=r("J66h"),n=r("g06K"),i={name:"Login",components:{},data:function(){var e=this;return{dutys:[],loginForm:{username:"",password:"6666"},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,r){t.length<1?r(new Error("请输入正确的用户名")):r()}}],password:[{required:!0,trigger:"blur",validator:function(e,t,r){void 0===t||t.length<5?r(new Error("密码不能小于5位")):r()}}]},registRules:{workername:[{required:!0,message:"请输入您的姓名",trigger:"blur"}],workerid:[{required:!0,message:"请输入您的工号",trigger:"blur"}],departments:[{required:!0,validator:function(t,r,o){0===e.registinfo.depselected.length?o(new Error("请选择部门内容")):o()},trigger:"change"}],positions:[{required:!0,validator:function(t,r,o){0===e.registinfo.posselected.length?o(new Error("请选择职位内容")):o()},trigger:"change"}],dutys:[{required:!0,validator:function(t,r,o){0===e.registinfo.dutyselected.length?o(new Error("请选择职位内容")):o()},trigger:"change"}]},loading:!1,pwdType:"password",redirect:void 0,dialogVisible:!0,registinfo:{workername:"",workerid:"",depselected:[],posselected:[],dutyselected:[],password:"6666",confirmpass:"6666"},departments:[],positions:[],validateimg:!1,justinfo:"",justname:""}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){var e=this;Object(n.f)().then(function(t){e.dutys=t.data}),Object(n.g)().then(function(t){e.positions=t.data}),Object(n.e)().then(function(t){e.departments=t.data});var t=this.$route.query._justinfo;t?(this.justinfo=o.Base64.decode(t).split("|")[0],this.justname=o.Base64.decode(t).split("|")[2],this.registinfo.workerid=this.justinfo,this.registinfo.workername=this.justname,console.log(this.justname),Object(n.l)(this.justinfo).then(function(t){t.ok&&("0"===t.data||"1"===t.data&&(e.loginForm.username=e.justinfo,e.loginForm.password="6666",e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/"})}).catch(function(){e.loading=!1})))})):this.$message.error("系统发生了异常，请重新登录进入本系统")},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("无效的登录"),!1;e.loading=!0,e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/"})}).catch(function(){e.loading=!1})})},onSuccess:function(){this.validateimg=!0,this.$message.success("验证成功!")},onFail:function(){this.validateimg=!1,this.$message.error("验证失败，请重试!")},onRefresh:function(){this.validateimg=!1},backtologin:function(){this.dialogVisible=!1,this.$refs.registform.resetFields()},doregistinfo:function(){var e=this;this.$refs.registform.validate(function(t){return!!t&&(e.validateimg?void Object(n.k)(e.registinfo).then(function(t){200===t.status?(e.$message.success(t.data),e.$refs.registform.resetFields(),e.loginForm.username=e.justinfo,e.loginForm.password="6666",e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/"})}).catch(function(){e.loading=!1})):(e.registinfo.password="",e.registinfo.confirmpass="")}):(e.$message.error("图片验证失败!"),!1))})},beforeCloseregist:function(){this.$refs.registform.resetFields()}}},a=(r("c11S"),r("vfnF"),r("T3K3"),r("KHd+")),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mloginwrapper"},[r("el-dialog",{staticStyle:{"margin-top":"-7vh","padding-bottom":"7vh"},attrs:{visible:e.dialogVisible,"before-close":e.beforeCloseregist,title:"为了方便您使用本系统，请完善您的个人信息",width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{key:"registinfo",ref:"registform",attrs:{model:e.registinfo,rules:e.registRules,"label-width":"80px","status-icon":""}},[r("el-form-item",{attrs:{label:"您的姓名",prop:"workername"}},[r("el-input",{attrs:{disabled:"",clearable:"",placeholder:"输入您的姓名"},model:{value:e.registinfo.workername,callback:function(t){e.$set(e.registinfo,"workername",t)},expression:"registinfo.workername"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"您的工号",prop:"workerid"}},[r("el-input",{attrs:{disabled:"",clearable:"",placeholder:"输入您的工号"},model:{value:e.registinfo.workerid,callback:function(t){e.$set(e.registinfo,"workerid",t)},expression:"registinfo.workerid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所在部门",prop:"departments"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择部门"},model:{value:e.registinfo.depselected,callback:function(t){e.$set(e.registinfo,"depselected",t)},expression:"registinfo.depselected"}},e._l(e.departments,function(e){return r("el-option",{key:e.id,attrs:{label:e.departname,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"您的职位",prop:"positions"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择职位"},model:{value:e.registinfo.posselected,callback:function(t){e.$set(e.registinfo,"posselected",t)},expression:"registinfo.posselected"}},e._l(e.positions,function(e){return r("el-option",{key:e.id,attrs:{label:e.position,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{prop:"dutys",label:"您的职务"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择职务"},model:{value:e.registinfo.dutyselected,callback:function(t){e.$set(e.registinfo,"dutyselected",t)},expression:"registinfo.dutyselected"}},e._l(e.dutys,function(e){return r("el-option",{key:e.id,attrs:{label:e.duty,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"验证码",prop:"validatecode"}},[r("slide-verify",{attrs:{l:42,r:10,w:310,h:155,"slider-text":">>向右滑动"},on:{success:e.onSuccess,fail:e.onFail,refresh:e.onRefresh}})],1),e._v(" "),r("el-form-item",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"success"},on:{click:e.doregistinfo}},[r("i",{staticClass:"el-icon-circle-check-outline"}),e._v("填写完成")])],1)],1)],1),e._v(" "),r("div",{staticClass:"login-container"},[r("div",{staticClass:"mlogin_form"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"off","label-position":"left"}},[r("h3",{staticClass:"title"},[e._v("高校党政会议云记录管理平台")]),e._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),r("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),r("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"请输入用户密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)],1)])],1)},[],!1,null,"4ce3c5ac",null);s.options.__file="index.vue";t.default=s.exports},vfnF:function(e,t,r){"use strict";var o=r("Gi5B");r.n(o).a}}]);