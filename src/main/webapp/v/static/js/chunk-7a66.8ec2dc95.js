(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a66"],{"4LaD":function(t,e,r){"use strict";var n={},o=function(t,e){var r="1.23452384164.123412415";if(void 0!==e){if(null!==document.getElementById(r)){var n=document.getElementById(r);n.parentNode.removeChild(n)}var o=e.offsetWidth,c=e.offsetHeight;e.style.position="relative";var d=document.createElement("canvas");d.width=390,d.height=200;var i=d.getContext("2d");i.rotate(-20*Math.PI/180),i.font="20px Vedana",i.fillStyle="rgba(200, 200, 200, 0.20)",i.textAlign="left",i.textBaseline="Middle",i.fillText(t,0,4*d.height/5);var a=document.createElement("div");return a.id=r,a.style.pointerEvents="none",a.style.top="0px",a.style.left="0px",a.style.position="absolute",a.style.zIndex="1000000",a.style.width=o+"px",a.style.height=c+"px",a.style.background="url("+d.toDataURL("image/png")+") left top repeat",e.appendChild(a),r}};n.set=function(t,e){var r=o(t,e);setInterval(function(){null===document.getElementById(r)&&(r=o(t,e))},500),window.onresize=function(){o(t,e)}},e.a=n},QrNZ:function(t,e,r){"use strict";r.d(e,"g",function(){return o}),r.d(e,"f",function(){return c}),r.d(e,"e",function(){return d}),r.d(e,"r",function(){return i}),r.d(e,"i",function(){return a}),r.d(e,"b",function(){return u}),r.d(e,"d",function(){return s}),r.d(e,"c",function(){return l}),r.d(e,"h",function(){return f}),r.d(e,"a",function(){return m}),r.d(e,"k",function(){return p}),r.d(e,"q",function(){return h}),r.d(e,"m",function(){return b}),r.d(e,"o",function(){return v}),r.d(e,"n",function(){return g}),r.d(e,"l",function(){return j}),r.d(e,"s",function(){return O}),r.d(e,"j",function(){return y}),r.d(e,"p",function(){return _}),r.d(e,"t",function(){return k});var n=r("t3Un");function o(t){return Object(n.a)({url:"/order/queryrooms",method:"post",data:t})}function c(t){return Object(n.a)({url:"/order/queryconfroom/"+t,method:"post"})}function d(t){return Object(n.a)({url:"/order/querypeoples",method:"post",data:t})}function i(t){return Object(n.a)({url:"/order/sureSubOrder",method:"post",data:t})}function a(t){return Object(n.a)({url:"/record/"+t+"/loadconf",method:"post"})}function u(t){return Object(n.a)({url:"/record/"+t+"/exportconfcoll",method:"post",responseType:"blob"})}function s(t){return Object(n.a)({url:"/record/"+t+"/exportconfrecord",method:"post",responseType:"blob"})}function l(t){return Object(n.a)({url:"/record/"+t+"/exportDirconfrecord",method:"post",responseType:"blob"})}function f(t){return Object(n.a)({url:"/record/"+t+"/getAttendursts",method:"post"})}function m(t){return Object(n.a)({url:"/order/addNewRoom",method:"post",data:t})}function p(t){return Object(n.a)({url:"/order/modifyRoom",method:"post",data:t})}function h(t){return Object(n.a)({url:"/order/"+t+"/removeConfRoom",method:"post"})}function b(t){return Object(n.a)({url:"/order/queryorderedconf",method:"post",data:t})}function v(t){return Object(n.a)({url:"/order/"+t+"/queryorderdetail",method:"post"})}function g(t){return Object(n.a)({url:"/order/queryvaliconf",method:"post",data:t})}function j(t){return Object(n.a)({url:"/order/"+t+"/passOrderConf",method:"post"})}function O(t){return Object(n.a)({url:"/order/"+t+"/unpassOrderConf",method:"post"})}function y(t){return Object(n.a)({url:"/comm/getcurdepusr/"+t,method:"post"})}function _(t){return Object(n.a)({url:"/order/"+t+"/removeOrderConf",method:"post"})}function k(t){return Object(n.a)({url:"/order/"+t+"/flagInConference",method:"post"})}},T2k8:function(t,e,r){"use strict";var n=r("lbxZ");r.n(n).a},"V+NQ":function(t,e,r){"use strict";r.d(e,"i",function(){return i}),r.d(e,"o",function(){return a}),r.d(e,"u",function(){return u}),r.d(e,"p",function(){return s}),r.d(e,"h",function(){return l}),r.d(e,"j",function(){return f}),r.d(e,"n",function(){return m}),r.d(e,"q",function(){return p}),r.d(e,"c",function(){return h}),r.d(e,"g",function(){return b}),r.d(e,"b",function(){return v}),r.d(e,"f",function(){return g}),r.d(e,"e",function(){return j}),r.d(e,"l",function(){return O}),r.d(e,"t",function(){return y}),r.d(e,"r",function(){return _}),r.d(e,"m",function(){return k}),r.d(e,"a",function(){return w}),r.d(e,"d",function(){return x}),r.d(e,"k",function(){return C}),r.d(e,"s",function(){return $});var n=r("t3Un"),o=r("vDqi"),c=r.n(o),d=r("QDog").a.BASEURL;function i(t){return Object(n.a)({url:"/record/addUsrSepach",method:"post",data:t})}function a(t){return Object(n.a)({url:"/record/"+t.recorid+"/removeUsrSpeach",method:"post"})}function u(t,e){var r=new FormData;r.append("voice",t.voice);var n=d+"/record/"+t.confrecid+"/uploadUsrVoice";c.a.post(n,r,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),e(t.data)})}function s(t){return Object(n.a)({url:"/record/"+t.voiceid+"/deleteUsrRecords",method:"post"})}function l(t){return Object(n.a)({url:"/record/modifyUsrSpeach",method:"post",data:t})}function f(t){return Object(n.a)({url:"/record/addNewCurContTitle",method:"post",data:t})}function m(t){return Object(n.a)({url:"/record/"+t.workerid+"/loadCurIssue",method:"post"})}function p(t){return Object(n.a)({url:"/record/saveConfConclusion",method:"post",data:t})}function h(t){return{url:d+"/record/getUsrVoice?file_id="+t,mblob:null}}function b(t){return Object(n.a)({url:"/record/modifyHolder",data:t,method:"post"})}function v(t){return Object(n.a)({url:"/order/"+t+"/endRecConf",method:"post"})}function g(t){return Object(n.a)({url:"/record/getvaliRecord",method:"post",data:t})}function j(t){return Object(n.a)({url:"/record/getmyvaliRecord",method:"post",data:t})}function O(t){return Object(n.a)({url:"/record/"+t+"/passRecord",method:"post",data:t})}function y(t){return Object(n.a)({url:"/record/"+t+"/unpassRecord",method:"post",data:t})}function _(t){return Object(n.a)({url:"/record/modifyConclusion",method:"post",data:t})}function k(t){return Object(n.a)({url:"/record/"+t+"/queryConftitles",method:"post"})}function w(t){return Object(n.a)({url:"/record/directrecord",method:"post",data:t})}function x(t){return Object(n.a)({url:"/record/"+t+"/querydirectconf",method:"post"})}function C(t){return Object(n.a)({url:"/record/"+t+"/passconfrecord",method:"post"})}function $(t){return Object(n.a)({url:"/record/"+t+"/unpassconfrecord",method:"post"})}},g06K:function(t,e,r){"use strict";r.d(e,"g",function(){return d}),r.d(e,"a",function(){return i}),r.d(e,"e",function(){return a}),r.d(e,"k",function(){return u}),r.d(e,"d",function(){return s}),r.d(e,"c",function(){return l}),r.d(e,"h",function(){return f}),r.d(e,"f",function(){return m}),r.d(e,"b",function(){return p}),r.d(e,"m",function(){return h}),r.d(e,"n",function(){return b}),r.d(e,"j",function(){return v}),r.d(e,"i",function(){return g}),r.d(e,"l",function(){return j});var n=r("t3Un"),o=r("gjeX"),c=r.n(o);function d(){return Object(n.a)({url:"/comm/allpositon",method:"post"})}function i(){return Object(n.a)({url:"/comm/allduty",method:"post"})}function a(){return Object(n.a)({url:"/comm/alldepartment",method:"post"})}function u(t){return t.password=c()(t.password),t.confirmpass=c()(t.confirmpass),Object(n.a)({url:"/comm/registuser",method:"post",data:t})}function s(){return Object(n.a)({url:"/comm/allconflevel",method:"post"})}function l(){return Object(n.a)({url:"/comm/allconfattr",method:"post"})}function f(){return Object(n.a)({url:"/comm/allsemesters",method:"post"})}function m(){return Object(n.a)({url:"/comm/allduty",method:"post"})}function p(){return Object(n.a)({url:"/comm/allRoles",method:"post"})}function h(t){return Object(n.a)({url:"/comm/attendtag",method:"post",data:t})}function b(t){return Object(n.a)({url:"/comm/cancelattendtag",method:"post",data:t})}function v(t){return Object(n.a)({url:"/comm/getusrinfoview",method:"post",data:t})}function g(t){return Object(n.a)({url:"/comm/modifyUsrInfoView",method:"post",data:t})}function j(t){return Object(n.a)({url:"/comm/"+t+"/adapterHasRegisted",method:"post"})}},lbxZ:function(t,e,r){},n8iF:function(t,e,r){"use strict";r.r(e);var n=r("QbLZ"),o=r.n(n),c=r("4LaD"),d=r("L2JU"),i=r("g06K"),a=r("QrNZ"),u=r("V+NQ"),s={name:"Directstart",data:function(){var t=this;return{directconfRules:{confname:[{required:!0,message:"请输入会议名称",trigger:"blur"}],semesters:[{validator:function(e,r,n){""===t.directconf.semester?n(new Error("请选择学期")):n()},trigger:["blur","change"]}],confattr:[{validator:function(e,r,n){0!==t.multiflag&&(0===t.directconf.confattr.length?n(new Error("请选择会议属性")):n())},trigger:["blur","change"]}],conftype:[{validator:function(e,r,n){""===t.directconf.conftype?n(new Error("请选择会议类别")):n()},trigger:["blur","change"]}],hosterid:[{required:!0,message:"请选择主持人",trigger:"blur"}],recorderid:[{required:!0,message:"请输入记录人",trigger:"blur"}],confaddress:[{required:!0,message:"请输入会议地址",trigger:"blur"}],starttime:[{required:!0,message:"请输入开始时间",trigger:"blur"}],endtime:[{required:!0,message:"请输入结束时间",trigger:"blur"}],attenders:[{validator:function(e,r,n){0!==t.multiflag&&(0===t.directconf.attenders.length?n(new Error("请选择参会人员")):n())},trigger:["blur","change"]}],maincontent:[{required:!0,message:"请输入主要内容",trigger:"blur"}],conclusion:[{required:!0,message:"请输入结论",trigger:"blur"}]},semesters:[],confattrs:[],conflevels:[],depusers:[],multiflag:0,directconf:{confname:"",semester:"",confattr:"",conftype:"",hosterid:"",recorderid:"",confaddress:"",starttime:"",endtime:"",attenders:"",maincontent:"",conclusion:""}}},computed:o()({},Object(d.b)(["name","accid"])),created:function(){var t=this;Object(i.h)().then(function(e){t.semesters=e.data}),Object(i.c)().then(function(e){t.confattrs=e.data}),Object(i.d)().then(function(e){t.conflevels=e.data}),this.fetchDepUsers()},mounted:function(){c.a.set("高校党政云记录管理平台 "+this.name,this.$refs.directrecordwp)},methods:{fetchDepUsers:function(){var t=this;Object(a.j)(this.accid).then(function(e){t.depusers=e.data,t.directconf.hosterid=String(t.accid),t.directconf.recorderid=String(t.accid)})},handlesubconf:function(){var t=this,e=this;this.multiflag=1,this.$confirm("确定提交该会议记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$refs.directconffm.validate(function(r){if(!r)return t.$message.error("请检查字段是否填写完整"),!1;e.checkUsrCotain(e.directconf.hosterid),e.checkUsrCotain(e.directconf.recorderid),Object(u.a)(t.directconf).then(function(e){e.ok?(t.$message.success("提交会议记录成功!"),t.$router.push("/confrecord/validating")):t.$message.error(e.msg)})})}).catch(function(){})},checkUsrCotain:function(t){if(void 0!==t){for(var e=!1,r=this.directconf.attenders,n=0;n<r.length;n++)if(t===r[n]){e=!0;break}e||this.directconf.attenders.push(t)}}}},l=(r("T2k8"),r("KHd+")),f=Object(l.a)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"directrecordwp",staticClass:"wrapper "},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("el-form",{key:"directconf",ref:"directconffm",attrs:{model:t.directconf,rules:t.directconfRules,"validate-on-rule-change":!1}},[r("table",{staticClass:"mtable"},[r("tr",[r("td",[t._v("输入会议名称")]),t._v(" "),r("td",{attrs:{colspan:"5"}},[r("el-form-item",{attrs:{prop:"confname"}},[r("el-input",{attrs:{width:"100%",placeholder:"请输入会议名称",clearable:""},model:{value:t.directconf.confname,callback:function(e){t.$set(t.directconf,"confname",e)},expression:"directconf.confname"}})],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("学期")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"semesters"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",placeholder:"请选择学期"},model:{value:t.directconf.semester,callback:function(e){t.$set(t.directconf,"semester",e)},expression:"directconf.semester"}},t._l(t.semesters,function(t){return r("el-option",{key:t.id,attrs:{label:t.semestername,value:t.id}})}))],1)],1),t._v(" "),r("td",[t._v("会议属性")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[r("el-form-item",{attrs:{prop:"confattr"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择会议属性"},model:{value:t.directconf.confattr,callback:function(e){t.$set(t.directconf,"confattr",e)},expression:"directconf.confattr"}},t._l(t.confattrs,function(t){return r("el-option",{key:t.id,attrs:{label:t.attrdes,value:t.id}})}))],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("会议类别")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"conftype"}},[r("el-select",{attrs:{placeholder:"请选择会议的会议类别"},model:{value:t.directconf.conftype,callback:function(e){t.$set(t.directconf,"conftype",e)},expression:"directconf.conftype"}},t._l(t.conflevels,function(t){return r("el-option",{key:t.id,attrs:{label:t.leveldes,value:t.id}})}))],1)],1),t._v(" "),r("td",[t._v("会议主持人")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"hosterid"}},[r("el-select",{attrs:{placeholder:"请选择会议主持人"},model:{value:t.directconf.hosterid,callback:function(e){t.$set(t.directconf,"hosterid",e)},expression:"directconf.hosterid"}},t._l(t.depusers,function(t){return r("el-option",{key:t.accid,attrs:{label:t.usrname,value:t.accid}})}))],1)],1),t._v(" "),r("td",[t._v("录入人")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"recorderid"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择会议录入人"},model:{value:t.directconf.recorderid,callback:function(e){t.$set(t.directconf,"recorderid",e)},expression:"directconf.recorderid"}},t._l(t.depusers,function(t){return r("el-option",{key:t.accid,attrs:{label:t.usrname,value:t.accid}})}))],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("输入会议地点")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"confaddress"}},[r("el-input",{attrs:{placeholder:"输入会议地点",clearable:""},model:{value:t.directconf.confaddress,callback:function(e){t.$set(t.directconf,"confaddress",e)},expression:"directconf.confaddress"}})],1)],1),t._v(" "),r("td",[t._v("选择开始时间")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"starttime"}},[r("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"起始时间"},model:{value:t.directconf.starttime,callback:function(e){t.$set(t.directconf,"starttime",e)},expression:"directconf.starttime"}})],1)],1),t._v(" "),r("td",[t._v("选择结束时间")]),t._v(" "),r("td",[r("el-form-item",{attrs:{prop:"endtime"}},[r("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30",minTime:t.directconf.starttime},placeholder:"结束时间"},model:{value:t.directconf.endtime,callback:function(e){t.$set(t.directconf,"endtime",e)},expression:"directconf.endtime"}})],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("与会人员")]),t._v(" "),r("td",{attrs:{colspan:"5"}},[r("el-form-item",{attrs:{prop:"attenders"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",placeholder:"请选择与会人员"},model:{value:t.directconf.attenders,callback:function(e){t.$set(t.directconf,"attenders",e)},expression:"directconf.attenders"}},t._l(t.depusers,function(t){return r("el-option",{key:t.accid,attrs:{label:t.usrname,value:t.accid}})}))],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("会议内容记录")]),t._v(" "),r("td",{attrs:{colspan:"5"}},[r("el-form-item",{attrs:{prop:"maincontent"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入会议内容记录",rows:"20",resize:"none"},model:{value:t.directconf.maincontent,callback:function(e){t.$set(t.directconf,"maincontent",e)},expression:"directconf.maincontent"}})],1)],1)]),t._v(" "),r("tr",[r("td",[t._v("输入会议结论")]),t._v(" "),r("td",{attrs:{colspan:"5"}},[r("el-form-item",{attrs:{prop:"conclusion"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入会议结论",rows:"10",resize:"none"},model:{value:t.directconf.conclusion,callback:function(e){t.$set(t.directconf,"conclusion",e)},expression:"directconf.conclusion"}})],1)],1)]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[r("el-button",{attrs:{type:"danger"},on:{click:t.handlesubconf}},[t._v("提交会议内容")])],1)])])])],1)],1)},[],!1,null,"0ee3f113",null);f.options.__file="index.vue";e.default=f.exports}}]);