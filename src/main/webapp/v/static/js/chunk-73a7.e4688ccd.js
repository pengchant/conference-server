(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-73a7"],{"51GK":function(t,e,n){"use strict";n.r(e);var o=n("QbLZ"),r=n.n(o),a=n("L2JU"),c=n("QrNZ"),i={data:function(){return{currentPage:1,total:1e3,pageSize:10,multipleSelection:[],tableData:[],conditions:{order:"",sort:"",page:1,pagesize:10,search:{confname:"",confstatus:"",endtime:"",startime:"",workerid:""}},dialogFormVisible:!1,confattrform:{id:"",attrname:"",attrdes:""},newFormVisible:!1,confdetail:""}},computed:r()({},Object(a.b)(["name","accid"])),created:function(){this.conditions.search.workerid=this.accid,console.log("读取内存中用户名为：",this.conditions.search.workerid),this.fetchData()},methods:{handleSelectionChange:function(t){this.multipleSelection=t},handlecurrentchange:function(t){this.currentPage=t,this.conditions.page=t,this.fetchData()},fetchData:function(){var t=this;Object(c.m)(this.conditions).then(function(e){var n=e.data;t.tableData=n.list,t.total=n.total,t.currentPage=n.pageNum})},handleEdit:function(t,e){var n=this;Object(c.o)(e.conferenceid).then(function(t){n.confdetail=t.data}),this.dialogFormVisible=!0},conditionsearch:function(){this.fetchData()},formattime:function(t){return t.substr(0,16)},handlerSortchange:function(t){this.conditions.sort=t.prop,this.conditions.order="descending"===t.order?"desc":"ascending"===t.order?"asc":"",this.fetchData()},startconf:function(t,e){var n=this;this.$confirm("是否确定开始开会?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){Object(c.t)(e.conferenceid).then(function(t){t.ok?n.$router.push("/confrecord/recconf?confid="+e.conferenceid):n.$message.error("操作失败，请稍后重试!")})}).catch(function(){})},startconf1:function(t,e){this.$router.push("/confrecord/recconf?confid="+e.conferenceid)},delConf:function(t,e){var n=this;console.log(e),this.$confirm("是否确定删除该会议预约?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"primary"}).then(function(){Object(c.p)(e.conferenceid).then(function(t){"200"===t.status&&n.fetchData()})}).catch(function(){})}}},s=(n("sD43"),n("KHd+")),l=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"90%",margin:"0 auto"}},[n("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[n("el-row",[n("el-col",{attrs:{span:4}},[t._v("\n        开始时间\n        "),n("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择申请开始日期"},model:{value:t.conditions.search.startime,callback:function(e){t.$set(t.conditions.search,"startime",e)},expression:"conditions.search.startime"}})],1),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n        结束时间\n        "),n("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择申请结束日期"},model:{value:t.conditions.search.endtime,callback:function(e){t.$set(t.conditions.search,"endtime",e)},expression:"conditions.search.endtime"}})],1),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n        预约状态\n        "),n("el-select",{attrs:{placeholder:"请选择预约状态"},model:{value:t.conditions.search.confstatus,callback:function(e){t.$set(t.conditions.search,"confstatus",e)},expression:"conditions.search.confstatus"}},[n("el-option",{attrs:{value:"",label:"所有记录"}},[t._v("所有记录")]),t._v(" "),n("el-option",{attrs:{value:"1",label:"已申请"}},[t._v("已申请")]),t._v(" "),n("el-option",{attrs:{value:"2",label:"通过申请"}},[t._v("通过申请")]),t._v(" "),n("el-option",{attrs:{value:"101",label:"审核不通过"}},[t._v("审核不通过")]),t._v(" "),n("el-option",{attrs:{value:"3",label:"进行中"}},[t._v("进行中")])],1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-input",{attrs:{placeholder:"请输入会议关键字"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.conditionsearch(e):null}},model:{value:t.conditions.search.confname,callback:function(e){t.$set(t.conditions.search,"confname",e)},expression:"conditions.search.confname"}})],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.conditionsearch}},[t._v("查询")])],1)],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"650",border:""},on:{"selection-change":t.handleSelectionChange,"sort-change":t.handlerSortchange}},[n("el-table-column",{attrs:{prop:"confname",label:"会议名称",sortable:"custom"}}),t._v(" "),n("el-table-column",{attrs:{prop:"levelname",sortable:"custom",label:"会议类别"}}),t._v(" "),n("el-table-column",{attrs:{prop:"recorder",width:"90",sortable:"custom",label:"申请人"}}),t._v(" "),n("el-table-column",{attrs:{label:"请求时间",sortable:"custom",prop:"colltime"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formattime(e.row.colltime)))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"预约状态",width:"150","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.statusid||"2"==e.row.statusid||"3"==e.row.statusid?n("section",[n("span",{staticStyle:{color:"#67C23A"}},[n("i",{staticClass:"el-icon-success"}),t._v("\n             "+t._s(e.row.confstatus)+"\n          ")])]):t._e(),t._v(" "),"101"==e.row.statusid?n("section",[n("span",{staticStyle:{color:"#F56C6C"}},[n("i",{staticClass:"el-icon-error"}),t._v("\n             "+t._s(e.row.confstatus)+"\n          ")])]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("查看预约详情")]),t._v(" "),t._v("\n          \n        "),"101"==e.row.statusid?n("span",[n("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(n){t.delConf(e.$index,e.row)}}},[t._v("删除会议")])],1):t._e(),t._v(" "),"3"==e.row.statusid?n("span",[n("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(n){t.startconf1(e.$index,e.row)}}},[t._v("继续开会")])],1):n("span",[n("el-button",{attrs:{size:"mini",plain:"",type:"warning"},on:{click:function(n){t.startconf(e.$index,e.row)}}},[t._v("开始开会")])],1)]}}])})],1),t._v(" "),n("el-pagination",{attrs:{total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,background:"",layout:"prev, pager, next"},on:{"current-change":t.handlecurrentchange}}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"60%",title:"预约会议详情"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[void 0!=t.confdetail?n("section",[n("table",{staticClass:"mytable",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[n("tr",[n("td",[t._v("会议名称")]),t._v(" "),n("td",[t._v(t._s(t.confdetail?t.confdetail.basicConfInfoView.confname:""))]),t._v(" "),n("td",[t._v("会议地点")]),t._v(" "),n("td",[t._v(t._s(t.confdetail?t.confdetail.basicConfInfoView.roomname:""))])]),t._v(" "),n("tr",[n("td",[t._v("开始时间")]),t._v(" "),n("td",[t._v(t._s(t.formattime(t.confdetail?t.confdetail.basicConfInfoView.starttime:"")))]),t._v(" "),n("td",[t._v("结束时间")]),t._v(" "),n("td",[t._v(t._s(t.formattime(t.confdetail?t.confdetail.basicConfInfoView.endtime:"")))])]),t._v(" "),n("tr",[n("td",[t._v("会议类别")]),t._v(" "),n("td",[t._v(t._s(t.confdetail?t.confdetail.basicConfInfoView.levelname:""))]),t._v(" "),n("td",[t._v("会议属性")]),t._v(" "),n("td",t._l(t.confdetail.confattrs,function(e){return n("el-tag",{key:e.attrdes,staticStyle:{"margin-right":"5px"}},[t._v(t._s(e.attrdes)+"  ")])}))]),t._v(" "),n("tr",[n("td",[t._v("参会人员")]),t._v(" "),n("td",{attrs:{colspan:"3"}},t._l(t.confdetail.attendersViews,function(e){return n("span",{key:e.workerid},[t._v(t._s(e.usrname)+" ")])}))]),t._v(" "),n("tr",[n("td",{attrs:{colspan:"4"}},[t._v("上次会议所提议题/问题的解决情况")])]),t._v(" "),t._l(t.confdetail.confLastIssueViewList,function(e,o){return n("tr",{key:"last_"+e.issuelastid},[n("td",{staticClass:"align-center"},[t._v(t._s(o+1))]),t._v(" "),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.maincontent))])])}),t._v(" "),n("tr",[n("td",{attrs:{colspan:"4"}},[t._v("本次会议需决议的议题")])]),t._v(" "),t._l(t.confdetail.confCurIssueViewsList,function(e,o){return n("tr",{key:"cur_"+e.issuecurrent},[n("td",{staticClass:"align-center"},[t._v(t._s(o+1))]),t._v(" "),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.mainconent))])])}),t._v(" "),n("tr",[n("td",{attrs:{colspan:"4"}},[t._v("建议解决方案")])]),t._v(" "),t._l(t.confdetail.confSuggestionViewList,function(e,o){return n("tr",{key:"sug_"+e.issuecurrent},[n("td",{staticClass:"align-center"},[t._v(t._s(o+1))]),t._v(" "),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.maincontent))])])})],2)]):t._e(),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"success"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),n("div",{staticStyle:{height:"50px"}})],1)},[],!1,null,"782d72f8",null);l.options.__file="index.vue";e.default=l.exports},QrNZ:function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"r",function(){return i}),n.d(e,"i",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return u}),n.d(e,"h",function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"k",function(){return _}),n.d(e,"q",function(){return v}),n.d(e,"m",function(){return m}),n.d(e,"o",function(){return h}),n.d(e,"n",function(){return b}),n.d(e,"l",function(){return g}),n.d(e,"s",function(){return y}),n.d(e,"j",function(){return w}),n.d(e,"p",function(){return k}),n.d(e,"t",function(){return O});var o=n("t3Un");function r(t){return Object(o.a)({url:"/order/queryrooms",method:"post",data:t})}function a(t){return Object(o.a)({url:"/order/queryconfroom/"+t,method:"post"})}function c(t){return Object(o.a)({url:"/order/querypeoples",method:"post",data:t})}function i(t){return Object(o.a)({url:"/order/sureSubOrder",method:"post",data:t})}function s(t){return Object(o.a)({url:"/record/"+t+"/loadconf",method:"post"})}function l(t){return Object(o.a)({url:"/record/"+t+"/exportconfcoll",method:"post",responseType:"blob"})}function d(t){return Object(o.a)({url:"/record/"+t+"/exportconfrecord",method:"post",responseType:"blob"})}function u(t){return Object(o.a)({url:"/record/"+t+"/exportDirconfrecord",method:"post",responseType:"blob"})}function f(t){return Object(o.a)({url:"/record/"+t+"/getAttendursts",method:"post"})}function p(t){return Object(o.a)({url:"/order/addNewRoom",method:"post",data:t})}function _(t){return Object(o.a)({url:"/order/modifyRoom",method:"post",data:t})}function v(t){return Object(o.a)({url:"/order/"+t+"/removeConfRoom",method:"post"})}function m(t){return Object(o.a)({url:"/order/queryorderedconf",method:"post",data:t})}function h(t){return Object(o.a)({url:"/order/"+t+"/queryorderdetail",method:"post"})}function b(t){return Object(o.a)({url:"/order/queryvaliconf",method:"post",data:t})}function g(t){return Object(o.a)({url:"/order/"+t+"/passOrderConf",method:"post"})}function y(t){return Object(o.a)({url:"/order/"+t+"/unpassOrderConf",method:"post"})}function w(t){return Object(o.a)({url:"/comm/getcurdepusr/"+t,method:"post"})}function k(t){return Object(o.a)({url:"/order/"+t+"/removeOrderConf",method:"post"})}function O(t){return Object(o.a)({url:"/order/"+t+"/flagInConference",method:"post"})}},j8bX:function(t,e,n){},sD43:function(t,e,n){"use strict";var o=n("j8bX");n.n(o).a}}]);